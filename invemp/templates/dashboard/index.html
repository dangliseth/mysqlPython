{% extends "base.html" %}
 
{% block header %}
{% if g.user[3] == 'admin'%}
<ul class="tables_nav">
  {% for table in tables %}
  <li class="nav-item">
    {% if table == table_name %}
    <h1 class="tables" id="current-table">{% block title %} {{ table_name }} {% endblock %}</h1>
    {% else %}
    <a href="{{ url_for('dashboard.index', table_name=table) }}" class="tables" id="table-link">{{ table }}</a>
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% endif %}
{% if table_name == 'user_accounts' and g.user[3] == 'admin' %}
  <a href = "{{ url_for ('auth.register') }}" class="btn btn-create">Create User</a>
{% elif g.user[3] == 'admin' %}
  <a href = "{{ url_for ('dashboard.create', table_name = table_name) }}" class="btn btn-create">Create Entry</a>
{% endif %}
{% endblock %}

{% block content %}
<main id="tables-view">
<table class="table table-striped" id="main-table">
  <thead>
    <tr>
      {% for column in columns %}
        <th>{{ column }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for item in items %}
      {% if g.user[3] == 'admin' %}
      <tr onclick="window.location='{{ url_for('dashboard.update', table_name=table_name, id=item[0]) }}'" style="cursor: pointer;">
      {% else %}
      <tr>
      {% endif %}
        {% for value in item %}
        <td>{{ value }}</td>
        {% endfor %}
      </tr>
    {% endfor %}
  </tbody>
</table>
</main>
{% endblock %}