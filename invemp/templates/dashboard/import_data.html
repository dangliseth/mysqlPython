{% extends "base.html" %}

{% block title %}Import Data{% endblock %}

{% block content %}
<main class="import-bg">
  <h2>Import Data</h2>
  <form method="post" enctype="multipart/form-data" class="import-form">
    <label for="file_type">File Type:</label>
    <select name="file_type" id="file_type" required>
      <option value="">Select type</option>
      <option value="excel">Excel (.xlsx)</option>
      <option value="pdf">PDF (.pdf)</option>
    </select>
    <br>
    <label for="file">Choose file:</label>
    <input type="file" name="file" id="file" accept=".xlsx,.pdf" required>
    <br>
    <button type="submit" class="btn btn-primary">Import</button>
  </form>
  {% if headers and data %}
    <h3>Preview</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          {% for h in headers %}<th>{{ h }}</th>{% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in data %}
        <tr>
          {% for cell in row %}<td>{{ cell }}</td>{% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}
</main>
{% endblock %}
